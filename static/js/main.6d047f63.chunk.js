(this["webpackJsonpredux-essentials-counter-example"]=this["webpackJsonpredux-essentials-counter-example"]||[]).push([[0],{130:function(e,t,a){e.exports={row:"Counter_row__5zyPL",value:"Counter_value__1Ttib",button:"Counter_button__2yP3Q",textbox:"Counter_textbox__1FmCX",asyncButton:"Counter_asyncButton__2rsyw Counter_button__2yP3Q"}},140:function(e,t,a){e.exports=a(264)},145:function(e,t,a){},257:function(e,t,a){e.exports=a.p+"static/media/smallr.40bdbb04.gif"},264:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),l=a.n(o),i=(a(145),a(15)),c=a(26),s=a(17),u=a(16),d=a(13),m=a(86),p=a.n(m),g=a(3),f=a.n(g),h=a(62),b=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={displayColorPicker:!1,color:{r:"149",g:"219",b:"229",a:"1"}},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleClose=function(){e.setState({displayColorPicker:!1})},e.handleChange=function(t){e.setState({color:t.rgb});var a=t.rgb;e.props.onSelectColor(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=f()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.color.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement("div",null,r.a.createElement("div",{style:e.swatch,onClick:this.handleClick},r.a.createElement("div",{style:e.color})),this.state.displayColorPicker?r.a.createElement("div",{style:e.popover},r.a.createElement("div",{style:e.cover,onClick:this.handleClose}),r.a.createElement(h.a,{color:this.state.color,onChange:this.handleChange})):null)}}]),a}(r.a.Component),v=a(12),y=a(290),E=a(64),C=Object(E.b)({name:"counter",initialState:{value:0,img:"",imgB:"",videoURL:""},reducers:{uploadImage:function(e,t){e.img+=t.payload},uploadImageB:function(e,t){e.imgB+=t.payload},pushVideoURL:function(e,t){e.videoURL+=t.payload}}}),w=C.actions,S=w.uploadImage,k=w.uploadImageB,x=w.pushVideoURL,j=function(e){return e.counter.videoURL},R=C.reducer,F=function e(t,a,n,r,o,l,i,c){var s=this;Object(d.a)(this,e),this.dragging=!1,this.rollover=!1,this.str=a,this.x=n,this.y=r,this.w=o,this.h=l,this.offsetX=0,this.offsetY=0,this.color=i,this.slider=c,this.over=function(){t.mouseX>s.x&&t.mouseX<s.x+s.w&&t.mouseY>s.y&&t.mouseY<s.y+s.h?s.rollover=!0:s.rollover=!1},this.update=function(e,a,n,r){n&&(s.color=n),r&&(s.slider=r),s.dragging&&(s.x=t.mouseX+s.offsetX,s.y=t.mouseY+s.offsetY),e&&(a>=60?(s.str="After",a>=240&&(s.str="Before")):s.str="Before")},this.show=function(){if(s.dragging)t.fill(50);else if(s.rollover)t.fill(100);else{var e=t.color(s.color.r,s.color.g,s.color.b);t.fill(e)}var a=Number(s.slider);t.textSize(a),t.text(s.str,s.x,s.y,s.w,s.h)},this.pressed=function(){t.mouseX>s.x&&t.mouseX<s.x+s.w&&t.mouseY>s.y&&t.mouseY<s.y+s.h&&(s.dragging=!0,s.offsetX=s.x-t.mouseX,s.offsetY=s.y-t.mouseY)},this.released=function(){s.dragging=!1}},O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).SetSlider=function(e){r.setState({slider:e.target.value})},r.SetColor=function(e){r.setState({color:e})},r.SetBaf=function(e){r.setState({baf:e})},r.ReplaySketch=function(e){r.setState({reset:!0})},r.RecordFile=function(e){r.setState({recording:!0}),r.setState({reset:!0});var t=document.querySelector("canvas"),a=document.querySelector("video"),n=t.captureStream(30),o=new MediaRecorder(n);o.start();var l=[];o.ondataavailable=function(e){console.log("data"),l.push(e.data)},setTimeout((function(){o.stop()}),6e3),o.onstop=function(e){var t=new Blob(l,{type:"video/mp4"}),n=URL.createObjectURL(t);a.src=n,this.setState({URLvideo:a.src}),this.props.pushVideoURL(this.state.URLvideo)}.bind(Object(c.a)(r))},r.preload=function(e){r.state.mee=e.loadImage(a(257)),r.state.img=e.loadImage(r.state.imageA),r.state.img2=e.loadImage(r.state.imageB)},r.setup=function(e,t){e.createCanvas(480,270).parent(t),e.frameRate(30),e.companyName=new F(e,"Pixie Dust",20,10,250,60),e.beforeandafter=new F(e,r.state.baf,20,159,170,60),e.textFont("Dancing Script")},r.draw=function(e){r.state.reset&&(r.setState({reset:!1}),r.setState({nextImage:!1}),e.frameCount=0,r.state.mee.reset()),e.background(255),r.state.img&&(e.image(r.state.img,0,0,480,270),e.frameCount>=60&&(r.state.nextImage=!0),r.state.nextImage&&e.image(r.state.img2,0,0,480,270)),e.frameCount<=120&&e.image(r.state.mee,0,0,480,270),e.companyName.over(),e.companyName.update(null,null,r.state.color,r.state.slider),e.companyName.show(),e.beforeandafter.over(),e.beforeandafter.update(r.state.baf,e.frameCount,r.state.color,r.state.slider),e.beforeandafter.show()},r.mousePressed=function(e){e.companyName.pressed(),e.beforeandafter.pressed()},r.mouseReleased=function(e){e.companyName.released(),e.beforeandafter.released()},r.state={slider:50,color:{r:"149",g:"219",b:"229"},smallr:"",baf:"Before",nextImage:!1,reset:!1,imageA:e.imageA,imageB:e.imageB,cwidth:480,cheight:270,numFrames:140,recording:!1,recordedFrames:0,count:0,mee:null,img:null,img2:null,frame:null,videoURL:e.videoURL},r}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,{container:!0,spacing:0,justify:"center"},r.a.createElement(y.a,null,r.a.createElement(p.a,{setup:this.setup,draw:this.draw,preload:this.preload,clicked:this.clicked,mousePressed:this.mousePressed,mouseReleased:this.mouseReleased})),r.a.createElement(y.a,null,r.a.createElement("input",{type:"range",min:30,max:60,step:5,value:this.slider,onChange:this.SetSlider})),r.a.createElement(y.a,null,r.a.createElement(b,{onSelectColor:this.SetColor})),r.a.createElement(y.a,null,r.a.createElement("button",{"aria-label":"Increment value",onClick:this.ReplaySketch},"Replay"),r.a.createElement("button",{"aria-label":"Increment value",onClick:this.RecordFile},"Record"))),r.a.createElement(y.a,null,r.a.createElement("video",{autoPlay:!0,controls:!0,id:"video",width:"480",height:"270"})))}}]),n}(r.a.Component),U=Object(v.b)((function(e){return{imageA:e.counter.img,imageB:e.counter.imgB}}),{pushVideoURL:x})(O),I=Object(E.a)({reducer:{counter:R}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(63),L=a(89),N=a(296),A=a(298),_=a(299),P=a(300),Y=a(133),T=a(305),X=a(301),D=a(303),H=a(302),W=a(297),V=a(266),z=a(295),M=a(294),q=a(292),G=a(293),J=a(60),Q=a.n(J),$=a(36),K=a.n($),Z=a(61),ee=a.n(Z),te=a(6),ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mainState:"initial",imageUploaded:0,selectedFile:null},e.handleUploadClick=function(t){var a=t.target.files[0],n=window.URL.createObjectURL(a);e.props.onFileLoaded(n);var r=new FileReader,o=r.readAsDataURL(a);r.onloadend=function(e){this.setState({selectedFile:[r.result]})}.bind(Object(c.a)(e)),console.log(o),e.setState({mainState:"uploaded",selectedFile:t.target.files[0],imageUploaded:1})},e.imageResetHandler=function(t){console.log("Click!"),e.setState({mainState:"initial",selectedFile:null,imageUploaded:0})},e}return Object(i.a)(a,[{key:"renderInitialState",value:function(){var e=this.props,t=e.classes;e.theme,this.state.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:this.handleUploadClick}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(G.a,{component:"span",className:t.button},r.a.createElement(ee.a,null))))))}},{key:"handleAvatarClick",value:function(e){var t=e.url.substring(e.url.lastIndexOf("/")+1);console.log(t),this.setState({mainState:"uploaded",imageUploaded:!0,selectedFile:e.url,fileReader:void 0,filename:t})}},{key:"renderUploadedState",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{onClick:this.imageResetHandler},r.a.createElement("img",{width:"100%",className:e.media,src:this.state.selectedFile,alt:""})))}},{key:"render",value:function(){var e=this.props,t=e.classes;e.theme;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(z.a,{className:this.props.cardName},"initial"===this.state.mainState&&this.renderInitialState()||"uploaded"===this.state.mainState&&this.renderUploadedState())))}}]),a}(r.a.Component),ne=Object(te.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500,display:"flex",justifyContent:"center",alignItems:"flex-end"},icon:{margin:2*e.spacing.unit},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:Q.a[800]}},cardHeader:{textalign:"center",align:"center",backgroundColor:"white"},input:{display:"none"},title:{color:K.a[800],fontWeight:"bold",fontFamily:"Montserrat",align:"center"},button:{color:K.a[900],margin:10},secondaryButton:{color:"gray",margin:10},typography:{margin:2*e.spacing.unit,backgroundColor:"default"}}}),{withTheme:!0})(ae);a(130),n.Component;function re(){var e=Object(v.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Before Image"),r.a.createElement(y.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(ne,{onFileLoaded:function(t){return e(S(t))}})))}var oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mainState:"initial",imageUploaded:0,selectedFile:null},e.handleUploadClick=function(t){var a=t.target.files[0],n=window.URL.createObjectURL(a);e.props.onFileLoaded(n);var r=new FileReader,o=r.readAsDataURL(a);r.onloadend=function(e){this.setState({selectedFile:[r.result]})}.bind(Object(c.a)(e)),console.log(o),e.setState({mainState:"uploaded",selectedFile:t.target.files[0],imageUploaded:1})},e.imageResetHandler=function(t){console.log("Click!"),e.setState({mainState:"initial",selectedFile:null,imageUploaded:0})},e}return Object(i.a)(a,[{key:"renderInitialState",value:function(){var e=this.props,t=e.classes;e.theme,this.state.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:this.handleUploadClick}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(G.a,{component:"span",className:t.button},r.a.createElement(ee.a,null))))))}},{key:"handleAvatarClick",value:function(e){var t=e.url.substring(e.url.lastIndexOf("/")+1);console.log(t),this.setState({mainState:"uploaded",imageUploaded:!0,selectedFile:e.url,fileReader:void 0,filename:t})}},{key:"renderUploadedState",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{onClick:this.imageResetHandler},r.a.createElement("img",{width:"100%",className:e.media,src:this.state.selectedFile,alt:""})))}},{key:"render",value:function(){var e=this.props,t=e.classes;e.theme;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(z.a,{className:this.props.cardName},"initial"===this.state.mainState&&this.renderInitialState()||"uploaded"===this.state.mainState&&this.renderUploadedState())))}}]),a}(r.a.Component),le=Object(te.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500,display:"flex",justifyContent:"center",alignItems:"flex-end"},icon:{margin:2*e.spacing.unit},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:Q.a[800]}},cardHeader:{textalign:"center",align:"center",backgroundColor:"white"},input:{display:"none"},title:{color:K.a[800],fontWeight:"bold",fontFamily:"Montserrat",align:"center"},button:{color:K.a[900],margin:10},secondaryButton:{color:"gray",margin:10},typography:{margin:2*e.spacing.unit,backgroundColor:"default"}}}),{withTheme:!0})(oe);function ie(){var e=Object(v.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"After Image"),r.a.createElement(y.a,{spacing:3,container:!0,justify:"center",alignItems:"center"},r.a.createElement(le,{onFileLoaded:function(t){return e(k(t))}})))}a(304),Object(N.a)({root:{width:100,padding:8,alignSelf:"center"}});r.a.Component;var ce=Object(N.a)((function(e){return{Grid:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(4)},root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function se(){ce();return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{container:!0,spacing:4,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,null,r.a.createElement(y.a,{id:"canvasheading",item:!0,container:!0,xs:12},r.a.createElement(U,null)))))}function ue(){return r.a.createElement(V.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(W.a,{color:"inherit",href:"they.design"},"They.Design")," ",(new Date).getFullYear(),".")}var de=Object(N.a)((function(e){return{appBar:{position:"relative"},layout:Object(L.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(L.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),me=["Add Before Image","Add After Image","Edit and Export"];function pe(){var e=de(),t=r.a.useState(0),a=Object(B.a)(t,2),n=a[0],o=a[1],l=Object(v.d)(j);return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null),r.a.createElement(_.a,{position:"absolute",color:"default",className:e.appBar},r.a.createElement(P.a,null,r.a.createElement(V.a,{variant:"h6",color:"inherit",noWrap:!0},"Before and After"))),r.a.createElement("main",{className:e.layout},r.a.createElement(Y.a,{className:e.paper},r.a.createElement(V.a,{component:"h1",variant:"h4",align:"center"},"Create Comparison"),r.a.createElement(T.a,{activeStep:n,className:e.stepper},me.map((function(e){return r.a.createElement(X.a,{key:e},r.a.createElement(D.a,null,e))}))),r.a.createElement(r.a.Fragment,null,n===me.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{variant:"h5",gutterBottom:!0},"Processing..."),r.a.createElement(V.a,{variant:"subtitle1"},"Your Download should start shortly, each file will download separately.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(re,null);case 1:return r.a.createElement(ie,null);case 2:return r.a.createElement(se,null);default:throw new Error("Unknown step")}}(n),r.a.createElement("div",{className:e.buttons},0!==n&&r.a.createElement(H.a,{onClick:function(){o(n-1)},className:e.button},"Back"),r.a.createElement(H.a,{variant:"contained",color:"primary",onClick:function(){if(o(n+1),n===me.length-1){var e=l,t=document.createElement("a");document.body.appendChild(t),t.style="display: none",t.href=e,t.download="test.mp4",t.click(),window.URL.revokeObjectURL(e)}},className:e.button},n===me.length-1?"Download":"Next"))))),r.a.createElement(ue,null)))}l.a.render(r.a.createElement(v.a,{store:I},r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[140,1,2]]]);
//# sourceMappingURL=main.6d047f63.chunk.js.map